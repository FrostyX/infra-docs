=============
Documentation
=============

Since Fedora contributors live around the world and don't often have the
opportunity to meet in person, it's important to maintain up-to-date high
quality documentation for all our projects. Our preferred documentation tool is
`Sphinx`_. In fact, this documentation is written using `Sphinx`_!

A project's documentation should at a minimum contain:

* An introduction to the project

* A user guide

* A contributor guide

* API documentation.

The easiest way to maintain up-to-date documentation is to include the majority
of the documentation in the code itself. `Sphinx`_ includes several extensions
to turn Python documentation into HTML pages.

.. note::
   Improving documentation is a great way to get involved in a project. When
   adding new documentation or cleaning up existing documentation, please
   follow the guidelines below.


Style
=====

Sphinx supports three different documentation styles. By default, Sphinx expects
ReStructuredText. However, it has included an extension to support the
`Google style`_ and the `NumPy style`_ since version 1.3. The style of the
documentation blocks is left up to the individual project, but it should
document the choice and be consistent.


Introduction
============

The project introduction should be easy to find - preferably it should be the
documentation's index page. It should provide an overview of the project and
should be easy for a complete new-comer to understand.


User Guide
==========

Have a clear user guide that covers most, if not all, features of the project
as well as potential use cases. Keep in mind that your users may be non-
technical as well as technical. Some users will want to use the project's
web interface, while others are interested in the API and the documentation
should make it easy for both types of users to find the documentation for them.


Contributor Guide
=================

Documenting how to start contributing makes it much easier for new contributors
to get involved. This is a good place to cover the expectations about code
style, documentation, tests, etc.


API Documentation
=================

All APIs should be documented. Users should never have to consult the source
code to use the project's API.


Python
------

Python API documentation is easily generated by using the `autodoc`_ extension.
Following these steps will create rich HTML, PDF, EPUB, or man format documentation:

1. All modules should contain a documentation block at the top of the file that
   describes the module's purpose and documents module-level attributes it
   provides as part of its public interface. In the case of a package's
   ``__init__.py``, this should document the package's purpose.

2. All classes should have documentation blocks that describe their purpose,
   any attributes they have, and example usage if appropriate.

3. All methods and functions should have documentation blocks that describe
   their purpose, the arguments they accept, the types of those arguments, and
   example usage if appropriate.

4. Make use of Sphinx's `cross-referencing`_ feature. This will generate links
   between objects in the documentation.


HTTP APIs
---------

Many projects provide an HTTP-based API. Use `sphinxcontrib-httpdomain`_ to
produce the HTTP interface documentation. This task is made significantly
easier if the project using a web framework that `sphinxcontrib-httpdomain`_
supports, like Flask. In that case, all you need to do is add the
`sphinxcontrib-httpdomain`_ ReStructuredText directives to the functions or
classes that provide the Flask endpoints.

After that, all you need to do is use the ``autoflask`` ReStructuredText
directive.


.. _Sphinx: http://www.sphinx-doc.org/
.. _Google style: http://www.sphinx-doc.org/en/1.5.2/ext/example_google.html
.. _NumPy style: http://www.sphinx-doc.org/en/1.5.2/ext/example_numpy.html
.. _autodoc: http://www.sphinx-doc.org/en/stable/tutorial.html#autodoc
.. _cross-referencing:
    http://www.sphinx-doc.org/en/stable/domains.html#cross-referencing-python-objects
.. _sphinxcontrib-httpdomain: http://pythonhosted.org/sphinxcontrib-httpdomain/

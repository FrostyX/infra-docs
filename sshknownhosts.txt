SSH known hosts Infrastructure SOP

   Provides Known Hosts file that is globally deployed.

Contact Information

   Owner: Fedora Infrastructure Team

   Contact: #fedora-admin, sysadmin group

   Location: all

   Servers: all

   Purpose: Provides Known Hosts file that is globally deployed.

Replacing Key


 We have written a script to grab all the pubkeys from the captured items in
puppet. check out puppet:

   git clone /git/puppet
   cd puppet/modules/ssh/files
   sudo python fetch-ssh-keys.py > ssh_known_hosts
   git commit -a
   git push

That should do it.

Just like magic, or something.

----------------------

Adding  a host alias to the ssh_known_hosts

If you need to add a host alias to a host in ssh_known_hosts simply
go to the dir for the host in infra-hosts and add a file named host_aliases
to the git repo in that dir. Put one alias per line and save.

Then the next time fetch-ssh-keys.py runs it will add those aliases to known hosts
